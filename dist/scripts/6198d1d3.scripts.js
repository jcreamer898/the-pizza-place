"use strict";function OrderController(a,b,c,d){var e=b.id;a.order=[],a.totalItems=1,a.calculateTotal=function(){a.totalItems=a.order.reduce(function(a,b){return a+parseInt(b.qty,10)},0)},a.addItem=function(){a.order.push({name:a.item.name,qty:1,options:[]})},a.addToCart=function(){a.$bus.publish({channel:"orders",topic:"order.new",data:{id:e}})},d.get({itemId:e}).$promise.then(function(b){a.item=b}).catch(function(a){404===a.status&&c.path("/menu")})}angular.module("introToAngularApp",["ngAnimate","ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/menu",{templateUrl:"views/menu.html",controller:"MenuCtrl"}).when("/menu/:id",{templateUrl:"views/order.html",controller:"OrderCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("introToAngularApp").factory("Menu",["$resource",function(a){return a("api/menu/:itemId",{},{query:{method:"GET",params:{itemId:""},isArray:!0}})}]),angular.module("introToAngularApp").controller("MainCtrl",function(){console.log("main")}),angular.module("introToAngularApp").controller("MenuCtrl",["$scope","Menu",function(a,b){a.items=b.query()}]),angular.module("introToAngularApp").controller("NavController",["$scope",function(a){a.items=[{href:"/",title:"Home",order:0},{href:"/menu",title:"Menu",order:1},{href:"/contact",title:"Contact",order:2}]}]),angular.module("introToAngularApp").directive("navigation",function(){return{restrict:"E",scope:{items:"="},templateUrl:"/templates/directives/navigation.html"}}),angular.module("introToAngularApp").directive("menuItem",function(){return{templateUrl:"/templates/directives/menuItem.html",restrict:"E",replace:!0,scope:{item:"="}}}),OrderController.$inject=["$scope","$routeParams","$location","Menu"],angular.module("introToAngularApp").controller("OrderCtrl",OrderController),angular.module("introToAngularApp").directive("price",function(){return{template:"<small></small>",restrict:"E",scope:{price:"@price"},link:function(a,b){a.$watch("price",function(){var c=parseFloat(a.price).toFixed(2);b.text(["$",c].join(""))})}}}),angular.module("introToAngularApp").service("Bus",function(){return postal}),angular.module("introToAngularApp").config(["$provide",function(a){a.decorator("$rootScope",["$delegate",function(a){return Object.defineProperty(a.constructor.prototype,"$bus",{value:postal,enumerable:!1}),a}])}]),angular.module("introToAngularApp").controller("CartCtrl",["$scope",function(a){a.cartItems=[],a.$bus.subscribe({channel:"orders",topic:"order.new",callback:function(b){a.cartItems.push(b)}})}]),angular.module("introToAngularApp").directive("multiselect",function(){return{template:'<select ng-model="selected" ng-options="item.name for item in items" class="multiselect" multiple="multiple"></select>',restrict:"E",replace:!0,scope:{items:"=",selected:"="},link:function(a,b){a.$watch("items",function(){b.multiselect()},!0)}}});